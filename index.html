<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ehliyet SÄ±nav SimÃ¼latÃ¶rÃ¼</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>

    <div class="app-wrapper">
        <!-- Ãœst Kontrol Paneli (Tema ve Font) -->
        <div class="header-controls">
            <button id="settings-btn" class="control-btn" onclick="openSettings()" title="Ayarlar">âš™ï¸</button>
        </div>

        <!-- 1. ANA MENÃœ EKRANI -->
        <div id="menu-screen" class="menu-screen">
            <!-- Arka Plan BulutlarÄ± -->
            <div class="cloud x1"></div>
            <div class="cloud x2"></div>
            <div class="cloud x3"></div>
            <div class="cloud x4"></div>
            <div class="cloud x5"></div>
            <div class="cloud x6"></div>

            <div class="menu-header">
                <h1>Ehliyet SÄ±navÄ± SimÃ¼lasyonu</h1>
                <p>Kendini test etmeye hazÄ±r mÄ±sÄ±n?</p>
            </div>
            
            <div class="menu-buttons">
                <!-- DUOLINGO TARZI Ã–ÄRENME YOLU -->
                <div class="learning-path">
                    <!-- Devam Et Butonu (SaÄŸ Ãœst KÃ¶ÅŸe - Yoldan BaÄŸÄ±msÄ±z) -->
                    <div id="resume-btn" class="resume-container hidden" onclick="resumeExam()">
                        <div class="resume-node">
                            <div class="circle-btn"><span class="icon">â¯ï¸</span></div>
                        </div>
                        <span class="path-label">Devam Et</span>
                    </div>

                    <!-- Yol Ã‡izgisi (Arka Plan) -->
                    <svg class="path-svg"><path id="zigzag-path"></path></svg>

                    <!-- 1. Trafik ve Ã‡evre Bilgisi (Mavi) -->
                    <div class="path-item" onclick="startExam('Trafik ve Ã‡evre Bilgisi')">
                        <div class="path-node blue">
                            <div id="user-avatar" class="floating-avatar">ğŸš™</div>
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle bg" stroke="rgba(52, 152, 219, 0.3)" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                                <circle class="progress-ring__circle fill" id="prog-trafik-cevre" stroke="#3498db" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                            </svg>
                            <div class="circle-btn"><span class="icon">ğŸš¦</span></div>
                        </div>
                        <span class="path-label">Trafik ve Ã‡evre</span>
                    </div>

                    <!-- 2. Trafik AdabÄ± (SarÄ±) -->
                    <div class="path-item" onclick="startExam('Trafik AdabÄ±')">
                        <div class="path-node yellow">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle bg" stroke="rgba(241, 196, 15, 0.3)" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                                <circle class="progress-ring__circle fill" id="prog-trafik-adabi" stroke="#f1c40f" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                            </svg>
                            <div class="circle-btn"><span class="icon">ğŸš—</span></div>
                        </div>
                        <span class="path-label">Trafik AdabÄ±</span>
                    </div>

                    <!-- 3. Motor Bilgisi (Turuncu) -->
                    <div class="path-item" onclick="startExam('Motor Bilgisi')">
                        <div class="path-node orange">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle bg" stroke="rgba(230, 126, 34, 0.3)" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                                <circle class="progress-ring__circle fill" id="prog-motor" stroke="#e67e22" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                            </svg>
                            <div class="circle-btn"><span class="icon">âš™ï¸</span></div>
                        </div>
                        <span class="path-label">Motor Bilgisi</span>
                    </div>

                    <!-- 4. Ä°lk YardÄ±m (KÄ±rmÄ±zÄ±) -->
                    <div class="path-item" onclick="startExam('Ä°lk YardÄ±m')">
                        <div class="path-node red">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle bg" stroke="rgba(231, 76, 60, 0.3)" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                                <circle class="progress-ring__circle fill" id="prog-ilkyardim" stroke="#e74c3c" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                            </svg>
                            <div class="circle-btn"><span class="icon">ğŸš‘</span></div>
                        </div>
                        <span class="path-label">Ä°lk YardÄ±m</span>
                    </div>

                    <!-- 5. KarÄ±ÅŸÄ±k SÄ±nav (Mor) -->
                    <div class="path-item" onclick="startExam('mixed')">
                        <div class="path-node purple">
                            <svg class="progress-ring" width="80" height="80">
                                <circle class="progress-ring__circle bg" stroke="rgba(155, 89, 182, 0.3)" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                                <circle class="progress-ring__circle fill" id="prog-mixed" stroke="#9b59b6" stroke-width="6" fill="transparent" r="34" cx="40" cy="40"/>
                            </svg>
                            <div class="circle-btn"><span class="icon">ğŸ”€</span></div>
                        </div>
                        <span class="path-label">KarÄ±ÅŸÄ±k SÄ±nav</span>
                    </div>
                </div>

                <!-- GeÃ§miÅŸ SÄ±navlar (En Altta, DikdÃ¶rtgen) -->
                <button class="menu-btn history" onclick="showHistory()" style="margin-top: 10px; z-index: 2;">ğŸ“œ GeÃ§miÅŸ SÄ±navlarÄ±m</button>
            </div>
        </div>

        <!-- 2. SINAV EKRANI (BaÅŸlangÄ±Ã§ta Gizli) -->
        <div id="exam-screen" class="hidden">
            <header class="exam-header">
                <div class="exam-title">
                    <h1>Ehliyet E-SÄ±nav</h1>
                    <span id="category-name">Genel Test</span>
                </div>
                <div class="timer-container">
                    <svg class="timer-svg" viewBox="0 0 100 100">
                        <circle class="timer-bg" cx="50" cy="50" r="40"></circle>
                        <circle class="timer-progress" id="timer-progress" cx="50" cy="50" r="40"></circle>
                    </svg>
                    <span id="time-left" class="timer-text">45:00</span>
                </div>
            </header>

            <main class="exam-container">
                <section class="question-section">
                    <div class="question-header">
                        <span id="question-number">Soru: 1 / 50</span>
                    </div>
                    
                    <div class="question-box">
                        <p id="question-text">Soru yÃ¼kleniyor...</p>
                    </div>

                    <div class="options-grid" id="options">
                    </div>
                </section>

                <aside class="navigation-sidebar">
                    <h3>Soru Paneli</h3>
                    <div class="question-grid" id="question-navigation">
                    </div>
                    
                    <button id="finish-exam-btn">SÄ±navÄ± Bitir</button>
                </aside>
            </main>

            <footer class="exam-footer">
                <button id="prev-btn" class="nav-btn">Ã–nceki Soru</button>
                <button id="next-btn" class="nav-btn">Sonraki Soru</button>
            </footer>
        </div>

        <div id="result-screen" class="hidden">
            <div id="confetti-container"></div>
            <div class="result-card">
                <h2 id="result-title">SÄ±nav TamamlandÄ±!</h2>
                <p id="result-message"></p>
                
                <div class="stats-container">
                    <div class="stat-item score">
                        <span class="label">PuanÄ±nÄ±z:</span>
                        <div class="circular-progress" id="score-circle">
                            <span class="progress-value" id="score-value">0</span>
                        </div>
                    </div>
                    <div class="stat-item success">
                        <span class="label">DoÄŸru SayÄ±sÄ±:</span>
                        <span id="correct-count" class="value">0</span>
                    </div>
                    <div class="stat-item danger">
                        <span class="label">YanlÄ±ÅŸ SayÄ±sÄ±:</span>
                        <span id="wrong-count" class="value">0</span>
                    </div>
                    <div class="stat-item info">
                        <span class="label">SÃ¼re:</span>
                        <span id="time-spent" class="value">00:00</span>
                    </div>
                </div>

                <button onclick="reviewAnswers()" class="nav-btn review-btn">CevaplarÄ± Ä°ncele</button>
                <button onclick="returnToMenu()" class="nav-btn">Yeni SÄ±nav BaÅŸlat</button>
            </div>
        </div>

        <!-- 3. CEVAP Ä°NCELEME EKRANI -->
        <div id="review-screen" class="hidden">
            <div class="review-header">
                <h2>YanlÄ±ÅŸ Cevaplar</h2>
                <button onclick="closeReview()" class="close-btn">Ã—</button>
            </div>
            <div id="review-content" class="review-content">
                <!-- JS ile doldurulacak -->
            </div>
            <button onclick="returnToMenu()" class="nav-btn">Ana MenÃ¼ye DÃ¶n</button>
        </div>

        <!-- 4. GEÃ‡MÄ°Å SINAVLAR EKRANI -->
        <div id="history-screen" class="hidden">
            <div class="review-header">
                <h2>SÄ±nav GeÃ§miÅŸi</h2>
                <button onclick="closeHistory()" class="close-btn">Ã—</button>
            </div>
            <div id="history-content" class="review-content">
                <!-- JS ile doldurulacak -->
            </div>
            <button onclick="returnToMenu()" class="nav-btn">Ana MenÃ¼ye DÃ¶n</button>
        </div>

        <!-- 5. AYARLAR MENÃœSÃœ (MODAL) -->
        <div id="settings-modal" class="hidden">
            <div class="settings-overlay" onclick="closeSettings()"></div>
            <div class="settings-card">
                <div class="review-header">
                    <h2>Ayarlar</h2>
                    <button onclick="closeSettings()" class="close-btn">Ã—</button>
                </div>
                <div class="settings-body">
                    <div class="setting-row">
                        <span>YazÄ± Boyutu</span>
                        <div class="setting-controls">
                            <button class="control-btn" onclick="changeFontSize(-1)">A-</button>
                            <button class="control-btn" onclick="changeFontSize(1)">A+</button>
                        </div>
                    </div>
                    <div class="setting-row">
                        <span>Tema</span>
                        <button id="theme-toggle-modal" class="control-btn" onclick="toggleTheme()">ğŸŒ™</button>
                    </div>
                    <div class="setting-row">
                        <span>Ekran Modu</span>
                        <button id="fullscreen-toggle-modal" class="control-btn" onclick="toggleFullScreen()">â›¶</button>
                    </div>
                    <div class="setting-row">
                        <span>Ses Efektleri</span>
                        <button id="sound-toggle-modal" class="control-btn" onclick="toggleSound()">ğŸ”Š</button>
                    </div>
                    <div class="setting-row">
                        <span>Gizlilik</span>
                        <button class="control-btn" onclick="openPrivacyPolicy()" title="Gizlilik PolitikasÄ±">ğŸ“„</button>
                    </div>
                    <div class="setting-row" id="reset-exam-row" style="display: none;">
                        <span style="color: #e74c3c;">SÄ±navdan Ã‡Ä±k</span>
                        <button class="control-btn" onclick="resetExam()" style="color: #e74c3c; border: 1px solid #e74c3c;" title="Ana MenÃ¼ye DÃ¶n">âœ–</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 7. GÄ°ZLÄ°LÄ°K POLÄ°TÄ°KASI MODAL -->
        <div id="privacy-modal" class="hidden">
            <div class="settings-overlay" onclick="closePrivacyPolicy()"></div>
            <div class="settings-card privacy-card">
                <div class="review-header">
                    <h2>Gizlilik PolitikasÄ±</h2>
                    <button onclick="closePrivacyPolicy()" class="close-btn">Ã—</button>
                </div>
                <div class="privacy-content">
                    <p><strong>Son GÃ¼ncelleme:</strong> 24.05.2024</p>
                    
                    <h3>1. GiriÅŸ</h3>
                    <p>"Ehliyet SÄ±navÄ± SimÃ¼lasyonu" uygulamasÄ± ("Uygulama") olarak, kullanÄ±cÄ±larÄ±mÄ±zÄ±n gizliliÄŸine saygÄ± duyuyoruz. Bu Gizlilik PolitikasÄ±, uygulamamÄ±zÄ± kullandÄ±ÄŸÄ±nÄ±zda verilerinizin nasÄ±l iÅŸlendiÄŸini aÃ§Ä±klar.</p>

                    <h3>2. Toplanan Bilgiler</h3>
                    <p>UygulamamÄ±z, herhangi bir kiÅŸisel veriyi (ad, soyad, e-posta, konum vb.) sunucularÄ±mÄ±za <strong>gÃ¶ndermez</strong> ve <strong>saklamaz</strong>. Uygulama tamamen cihazÄ±nÄ±z Ã¼zerinde Ã§alÄ±ÅŸÄ±r.</p>

                    <h3>3. Veri Saklama (Yerel Depolama)</h3>
                    <p>Uygulama, kullanÄ±cÄ± deneyimini saÄŸlamak amacÄ±yla aÅŸaÄŸÄ±daki verileri cihazÄ±nÄ±zÄ±n yerel hafÄ±zasÄ±nda (LocalStorage) saklar:</p>
                    <ul>
                        <li><strong>SÄ±nav Ä°lerlemesi:</strong> YarÄ±m kalan sÄ±navlara devam edebilmeniz iÃ§in.</li>
                        <li><strong>SÄ±nav GeÃ§miÅŸi:</strong> PuanlarÄ±nÄ±zÄ± ve baÅŸarÄ± durumunuzu gÃ¶rebilmeniz iÃ§in.</li>
                        <li><strong>Ayarlar:</strong> Tema (Gece/GÃ¼ndÃ¼z), ses efektleri ve yazÄ± boyutu tercihleriniz.</li>
                    </ul>
                    <p>Bu veriler sadece sizin cihazÄ±nÄ±zda bulunur ve uygulamayÄ± kaldÄ±rdÄ±ÄŸÄ±nÄ±zda veya tarayÄ±cÄ± verilerini temizlediÄŸinizde silinir.</p>

                    <h3>4. Ä°nternet EriÅŸimi</h3>
                    <p>Uygulama, internet baÄŸlantÄ±nÄ±zÄ±n durumunu (Online/Offline) kontrol eder. Bu iÅŸlem sadece size baÄŸlantÄ± koptuÄŸunda uyarÄ± vermek iÃ§indir. Herhangi bir veri takibi veya analitik toplama iÅŸlemi yapÄ±lmaz.</p>

                    <h3>5. Ä°letiÅŸim</h3>
                    <p>Gizlilik politikamÄ±zla ilgili sorularÄ±nÄ±z iÃ§in geliÅŸtirici ile iletiÅŸime geÃ§ebilirsiniz.</p>
                </div>
            </div>
        </div>

        <!-- 6. Ä°NTERNET BAÄLANTISI UYARISI -->
        <div id="offline-warning" class="hidden">
            <div class="offline-alert">
                <div class="offline-icon">ğŸ“¡âŒ</div>
                <h3>BaÄŸlantÄ± Koptu!</h3>
                <p>Ä°nternet baÄŸlantÄ±nÄ±z kesildi. LÃ¼tfen baÄŸlantÄ±nÄ±zÄ± kontrol edin.</p>
            </div>
        </div>
    </div>

</body>
</html>